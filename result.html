<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result</title>
    <!-- Css Link -->
    <link rel="stylesheet" href="./Assets/style.css">
<!-- Font Awesome Link -->
<script src="https://kit.fontawesome.com/0ae0890014.js" crossorigin="anonymous"></script>
</head>
<body class="allcont1"> 
    <p style="text-align: center;font-weight: lighter;color: white;"><b>Note: </b><span>To </span><b>print</b> this <b><span>report card</span></b> click this button<button onclick="printSection()" style="margin-left: 0.5%;"><b>Print Report Card</b></button></p>
    <section id="sectionToPrint">
        <h1 id="h1">Report Card</h1>
        <div class="thre">
            <div class="thro">
                <h4 class="hk"></h4>
            </div>
            <div class="thr">
                <h4 class="hv"></h4>
            </div>
        </div>
    <h4 class="condition"></h4>
    <h4 class="conditiontwo"></h4>
    <h4 class="conditionthree"></h4>
    <h4 class="conditionfour"></h4>
    <h4 class="conditionfive"></h4>
    <h4 class="conditionsix"></h4>
    <h3 id="number-text" style="background: deepskyblue;text-align: center;"></h3>

    <ul id="out-put" style="background:brown;color: white;padding: 2%;list-style: none;border: 1px solid black;background-image: url('./Assets/Images/pexels-francesco-ungaro-281260.jpg');"><b><span id="sel">Section Of Corrct Answers:</span></b> </ul>
    <h3 class="none-T"></h3>
    <h3 class="conditionseven" style="background: #000;border: 1px solid white;color: white;padding: 1%;">Passing Marks: <b>50</b></h3>
    <h3 class="newhthree"></h3>
    <div class="gradeT">
        <h1 class="grade"></h1>
</div>
    <div class="total">
        <h3 class="result">Obtained Marks: 0</h3>
        <h3 class="result-total">Total Marks: <b><span>100</span></b></h3>
    </div>
</section>



<script>
    const nonT = document.querySelector('.non-T');
    const number = Number(localStorage.getItem('numberKey'));
    const numkey = Number(localStorage.getItem('numkey'));
    const result = JSON.parse(localStorage.getItem("result"))
    const storedChechArrJSON = localStorage.getItem('correct');
    const h3 = document.querySelector('.result');
    const conditionNote = document.querySelector('.condition')
    const conditionNotetwo = document.querySelector('.conditiontwo')
    const conditionNotethree = document.querySelector('.conditionthree')
    const conditionNotefour = document.querySelector('.conditionfour')
    const conditionNotefive = document.querySelector('.conditionfive')
    const conditionNotesix = document.querySelector('.conditionsix')
    const numberText = document.getElementById('number-text');
    const grade = document.querySelector('.grade')
    const section  = document.querySelector('section');
    const outPut = document.getElementById('out-put');
    const getArr = localStorage.getItem('users')
    let usersArrayFromStorage = JSON.parse(getArr);
    let email = usersArrayFromStorage[0].email;
    let username = usersArrayFromStorage[0].username;
    const email1 = `Your Email: ${email}`;
    const user1 = `Your Name: ${username}`;
    const hk = document.querySelector('.hk');
    const hv = document.querySelector('.hv');



console.log(numkey)

console.log(storedChechArrJSON)
numberText.innerHTML = `Correct Answers: ${number}`;
hk.innerHTML = `${email1}`;
if(username === null){
    hv.innerHTML = 'Your Name: null'
}else{
    hv.innerHTML = `${user1}`;
}


if (storedChechArrJSON) {

    const storedChechArr = JSON.parse(storedChechArrJSON);


    if (Array.isArray(storedChechArr)) {
        storedChechArr.forEach(item => {
            const listItem = document.createElement('li');
            listItem.textContent = item;
            listItem.classList.add('styled-list-item');
            outPut.appendChild(listItem);
        });
    } else {
        console.error('storedChechArr is not an array:', storedChechArr);
    }
} else {
    console.error('No data found in local storage with key "correct".');
    outPut.innerHTML = '<ul><h2 style="text-align:center;font-size:25px;font-weight:lighter;color:black">Section Of Selected Correct Answers</h2><h3 style="text-align:center;color:red;font-size:22px"><b>No Answer is selected</b></h3></ul>'
}
    console.log(result.result)
    if(result.result < 20){
        conditionNote.innerHTML = `<i class="fa-solid fa-circle-exclamation" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Failed</i><br><b>Note: </b>You are  failed! ,you are eliminated from this course.`
        grade.innerHTML = `Grade: <b>No Grade</b>`
        conditionNotesix.innerHTML = `No grade because you obtained very low marks`
 
    }
   else if(result.result < 30){
        conditionNote.innerHTML = `<i class="fa-solid fa-circle-exclamation" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Failed</i><br><b>Note: </b>You are  failed! ,you are eliminated from this course.`
        grade.innerHTML = `Grade: <b>F</b>`
    }
    else if(result.result < 40){
        conditionNote.innerHTML = `<i class="fa-solid fa-circle-exclamation" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Failed</i><br><b>Note: </b>You are  failed! ,you are eliminated from this course.`
        grade.innerHTML = `Grade: <b>E</b>`
    }
    else if(result.result < 50){
        conditionNote.innerHTML = `<i class="fa-solid fa-circle-exclamation" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Failed</i><br><b>Note: </b>You are  failed! ,you are eliminated from this course.`
        grade.innerHTML = `Grade: <b>D</b>`

    }else if(result.result < 60){
        conditionNotetwo.innerHTML = `<i class="fa-solid fa-check" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Passed</i><br><b>Note: </b>You are  passed! ,but next time we are hoping you will do well`
        grade.innerHTML = `Grade: <b>C</b>`

    }else if(result.result < 70 ){
        conditionNotethree.innerHTML = `<i class="fa-solid fa-check" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Passed</i><br><b>Note: </b>Congrats!You are  passed!,but next time we want to see improveness`
        grade.innerHTML = `Grade: <b>B</b>`
    }
    else if(result.result < 80 ){
        conditionNotefour.innerHTML = `<i class="fa-solid fa-check" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Passed</i><br><b>Note: </b>Congrats!You are  passed! ,welldone`
        grade.innerHTML = `Grade: <b>A</b>`
    }
    else if(result.result < 90 ){
        conditionNotefive.innerHTML = `<i class="fa-solid fa-check" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Passed</i><br><b>Note: </b>Congrats!You are  passed! ,marwellous`
        grade.innerHTML = `Grade: <b>A+</b>`
    }else if(result.result <= 100 ){
        conditionNotesix.innerHTML = `<i class="fa-solid fa-check" style="font-size:25;letter-sapcing:1px;padding:1%;margin-top:1%;border:1px solid black;border-radius:50px;"> Passed</i><br><b>Note: </b>Congrats!You are  passed! ,wonderfull marwellous`
        grade.innerHTML = `Grade: <b>A++</b>`
    }
    h3.innerHTML = `Obtained Marks: <b><span>${result.result}</span></b>`
    console.log(result);

    function printSection() {
    window.print();
}
</script>


</body>
</html>